<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="edu.xd.bdilab.iotplatform.mapper.DeviceStateInfoMapper">
    <select id="selectById" parameterType="Integer" resultType="edu.xd.bdilab.iotplatform.dao.DeviceStateInfo">
        select
         id as id,
         fk_device_id as fkDeviceId,
         device_state as deviceState
     from device_state_info WHERE id=#{id}
  </select>

    <select id="selectByDeviceId" parameterType="String" resultType="edu.xd.bdilab.iotplatform.dao.DeviceStateInfo">
        select
         id as id,
         fk_device_id as fkDeviceId,
         device_state as deviceState
     from device_state_info WHERE fk_device_id=#{fkDeviceId}
  </select>

    <insert id="insertDeviceState" useGeneratedKeys="true" keyProperty="id" parameterType="edu.xd.bdilab.iotplatform.dao.DeviceStateInfo">
        INSERT INTO device_state_info(fk_device_id) VALUES (#{fkDeviceId});
    </insert>

    <delete id="deleteByFkDeviceId" parameterType="java.lang.String">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Mon Nov 04 20:19:41 CST 2019.
        -->
        delete from device_state_info
        where fk_device_id = #{fkDeviceId,jdbcType=VARCHAR}
    </delete>
</mapper>