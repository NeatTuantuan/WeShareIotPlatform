<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="edu.xd.bdilab.iotplatform.mapper.UserRoleRelationMapper">
  <resultMap id="BaseResultMap" type="edu.xd.bdilab.iotplatform.dao.UserRoleRelation">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Nov 04 20:19:41 CST 2019.
    -->
    <id column="relation_id" jdbcType="INTEGER" property="relationId" />
    <result column="fk_user_id" jdbcType="INTEGER" property="fkUserId" />
    <result column="fk_role_id" jdbcType="INTEGER" property="fkRoleId" />
  </resultMap>

  <select id="selectRoleIdByUserId" parameterType="int" resultType="java.lang.Integer">
        select
         fk_role_id as role_id
     from user_role_relation WHERE fk_user_id=#{user_id}
  </select>

  <insert id="insertUserRoleRelation" useGeneratedKeys="true" keyProperty="relationId" parameterType="edu.xd.bdilab.iotplatform.dao.UserRoleRelation">

    insert into user_role_relation (fk_user_id, fk_role_id
      )
    values ( #{fkUserId,jdbcType=INTEGER}, #{fkRoleId,jdbcType=INTEGER}
      )
  </insert>

</mapper>